 ```bash
export MYSQL_DATABASE=$(oc get secret mysql -n mysql-rh -ogo-template='{{ index .data "database-name" }}' | base64 -d )
export MYSQL_USER=$(oc get secret mysql -n mysql-rh -ogo-template='{{ index .data "database-user" }}' | base64 -d )
export MYSQL_PASSWORD=$(oc get secret mysql -n mysql-rh -ogo-template='{{ index .data "database-password" }}' | base64 -d )
```
```
POD=$(oc get pods -l name=mysql --output=name | awk -F/ '{print $NF}')
```
```bash
oc exec $POD -- bash -c "mysql --user=${MYSQL_USER} --password=${MYSQL_PASSWORD}  sampledb -e 'USE sampledb; DROP TABLE IF EXISTS customer; CREATE TABLE IF NOT EXISTS customer ( id INT AUTO_INCREMENT NOT NULL PRIMARY KEY, customerName VARCHAR( 255 ) NOT NULL, effectiveDate VARCHAR( 255 ), description TEXT, status VARCHAR( 255 ) NOT NULL );'"
```
```bash
oc exec $POD -- bash -c "mysql --user=${MYSQL_USER} --password=${MYSQL_PASSWORD} sampledb -e 'USE sampledb; INSERT INTO customer VALUES (1,\"Testers Inc.\",\"2020-04-01\",\"Testers are who we hire to test our software\",\"active\"), (2,\"Deployers CO\",\"2019-06-01\",\"Deployers co. deploy our software\",\"active\"), (3,\"DJ John Doe\",\"2019-12-01\",\"John provides the music for our annual holiday party.\",\"active\"), (4,\"Doe Hypermarket\",\"2019-06-05\",\"Doe is where we purchase all food supply.\",\"active\");'"
```

```bash
oc exec $POD -- bash -c "mysql --user=root sampledb -e 'select * from sampledb.customer;'"
```
```bash
oc exec $POD -- bash -c "mysql --user=${MYSQL_USER} --password=${MYSQL_PASSWORD} sampledb -e 'select * from sampledb.customer;'"
```



Create a "getCustomer" Microservice Application
```bash
oc new-app https://github.com/redhat-developer-demos/mysql-openshift-ephemeral.git --context-dir=src/getCustomer --name getcustomer -e MYSQL_HOST=mysql -e MYSQL_DATABASE=${MYSQL_DATABASE} -e MYSQL_USER=${MYSQL_USER} -e MYSQL_PASSWORD=${MYSQL_PASSWORD}
oc expose service getcustomer --insecure-skip-tls-verify=false
```
Create a "getCustomerList" Microservice Application
```bash
oc new-app https://github.com/redhat-developer-demos/mysql-openshift-ephemeral.git --context-dir=src/getCustomerSummaryList --name getcustomersummarylist -e MYSQL_HOST=mysql -e MYSQL_DATABASE=${MYSQL_DATABASE} -e MYSQL_USER=${MYSQL_USER} -e MYSQL_PASSWORD=${MYSQL_PASSWORD}
oc expose service getcustomerlist --insecure-skip-tls-verify=false
```

Create CustomerUI Frontend
```bash
oc new-app --name customerui --docker-image=docker.io/mohamed7sherif/mysql-react:latest -e REACT_APP_CUSTOMER_LIST_URI="http://getcustomerlist-mysql-rh.apps.openshift.demo.local/customers" -e REACT_APP_CUSTOMER_URI="http://getcustomer-mysql-rh.apps.openshift.demo.local/customer/"

oc new-app --name mvccustomer --docker-image=quay.io/donschenck/mvccustomer:latest -e GET_CUSTOMER_SUMMARY_LIST_URI="http://getcustomersummarylist:8080/customers" -e GET_CUSTOMER_URI="http://getcustomer:8080/customer"

oc expose service customerui --insecure-skip-tls-verify=false
```



## delete the things
```bash
oc delete route customerui
oc delete service customerui
oc delete buildconfig customerui
oc delete deployment customerui
oc delete route getcustomerlist
oc delete service getcustomerlist
oc delete buildconfig getcustomerlist
oc delete deployment getcustomerlist
oc delete route getcustomer
oc delete service getcustomer
oc delete buildconfig getcustomer
oc delete deployment getcustomer
```

